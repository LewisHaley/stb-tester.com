<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>stb-tester release notes</title>
  <link href="stb-tester.css" media="all" rel="stylesheet" type="text/css" />

  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-34036034-1']);
    _gaq.push(['_trackPageview']);
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>

</head>

<body id="release-notes">

<div id="header">
  <h1>stb-tester release notes</h1>
</div>

<div id="content">

<div class="section" id="improves-templatematch-adds-verbose-flag-certainty-renamed-to-noise-threshold">
<h2>0.6 Improves templatematch, adds <cite>--verbose</cite> flag, <cite>certainty</cite> renamed to <cite>noise_threshold</cite></h2>
<p>5 September 2012.</p>
<p>The templatematch algorithm is more precise (see commit ee28b8e for
details). Taking advantage of this, <cite>wait_for_match</cite> now waits by
default for only one match.</p>
<p>The optional parameter <cite>certainty</cite> of <cite>wait_for_match</cite> and
<cite>press_until_match</cite> has been removed. Since 0.4 it actually didn't have
any effect. It has been replaced with the parameter <cite>noise_threshold</cite>,
a floating-point value between 0 and 1 that defaults to 0.16. Increase
it to be more tolerant to noise (small differences between the desired
template and the source video frame).</p>
<p>Debug output is disabled by default; use <cite>--verbose</cite> or <cite>-v</cite> to enable.
Use <cite>-v -v</cite> (or <cite>-vv</cite>) to enable additional debug, including dumping of
intermediate images by the stbt-templatematch and stbt-motiondetect
GStreamer elements (this is extremely verbose, and isn't intended for
end users).</p>
<p>libgst-stb-tester.so's <cite>stbt-templatematch</cite> element can now be installed
alongside libgstopencv.so's <cite>templatematch</cite> element.</p>
<p>MatchTimeout is reported correctly if the GStreamer pipeline failed to
start due to a v4l2 error (even better would be to detect the v4l2 error
itself).</p>
<p>Limit the maximum attempts to restart the pipeline in case of underrun
(e.g. on loss of input video signal). Previously, <cite>stbt run</cite> attempted
to restart the pipeline infinitely.</p>
<p>Fix <cite>make install</cite> with Ubuntu's shell (dash).</p>
<p>Other non-user-visible and trivial changes since 0.5:</p>
<ul class="simple">
<li>stbt-templatematch bus bessage's parameter <cite>result</cite> is renamed to
<cite>match</cite> and is now a boolean.</li>
<li><cite>make check</cite> returns the correct exit status for failing self-tests.</li>
<li>The bash-completion script completes the <cite>--help</cite> flag.</li>
<li>Fix &quot;unknown property debugDirectory&quot; warning from
<cite>stbt-templatematch</cite> element.</li>
</ul>
</div>
<div class="section" id="make-install-installs-stbt-run-record-py-into-libexecdir">
<h2>0.5 <cite>make install</cite> installs stbt{-run,-record,.py} into $libexecdir</h2>
<p>14 August 2012.</p>
<p>The only difference from 0.4 is this change to install locations,
for the benefit of packagers.</p>
</div>
<div class="section" id="adds-gstreamer-plugin-improved-templatematch-motion-detection">
<h2>0.4 Adds gstreamer plugin, improved templatematch, motion detection</h2>
<p>14 August 2012.</p>
<p>New &quot;libgst-stb-tester.so&quot; gstreamer plugin with stbt-templatematch
(copied from gst-plugins-bad and improved) and stbt-motiondetect
elements.</p>
<p>stbt scripts can use &quot;wait_for_motion&quot; to assert that video is playing.
&quot;wait_for_motion&quot; takes an optional &quot;mask&quot; parameter (a black-and-white
image where white pixels indicate the regions to check for motion).</p>
<p>The improved templatematch is more robust in the presence of noise, and
can detect small but significant changes against large template images.</p>
<p>Other changes since 0.3:</p>
<ul class="simple">
<li>Bash-completion script for stbt.</li>
<li>stbt no longer reads configuration from $PWD/stbt.conf.</li>
<li>extra/jenkins-stbt-run is a shell script that illustrates how to use
Jenkins (a continuous-integration system with a web interface) to
schedule stbt tests and report on their results. See commit message
d5e7983 for instructions.</li>
</ul>
</div>
<div class="section" id="fixes-stbt-run-freezing-on-loss-of-input-video">
<h2>0.3 Fixes <cite>stbt run</cite> freezing on loss of input video.</h2>
<p>24 July 2012.</p>
<p>You will still see the blue screen when input video cuts out, but now
<cite>stbt run</cite> should recover after 5 - 10 seconds and continue running the
test script.</p>
<p>Other changes since 0.2:</p>
<ul class="simple">
<li>Fix VirtualRemote recorder.</li>
<li>Clearer error messages on VirtualRemote failure to connect.</li>
<li>Added <cite>certainty</cite> optional argument to <cite>press_until_match</cite>
(<cite>wait_for_match</cite> already takes <cite>certainty</cite>).</li>
<li><cite>man stbt</cite> documents the optional arguments to <cite>wait_for_match</cite> and
<cite>press_until_match</cite>.</li>
</ul>
</div>
<div class="section" id="adds-configurability-ir-blaster-support">
<h2>0.2 Adds configurability, IR blaster support.</h2>
<p>6 July 2012.</p>
<p>Major changes since 0.1.1:</p>
<ul class="simple">
<li>The source &amp; sink gstreamer pipelines, the input &amp; output remote control,
and the input &amp; output script filename, are all configurable.</li>
<li>Support for LIRC-based infrared emitter &amp; receiver hardware.</li>
<li>Handle gstreamer errors.</li>
<li>Automated self-tests.</li>
</ul>
</div>
<div class="section" id="initial-internal-release-with-packaging-fixes">
<h2>0.1.1 Initial internal release, with packaging fixes.</h2>
<p>21 June 2012.</p>
<p>The difference from 0.1 is that <cite>make install</cite> now works correctly from
a dist tarball.</p>
</div>
<div class="section" id="initial-internal-release">
<h2>0.1 Initial internal release.</h2>
<p>21 June 2012.</p>
</div>


</div>
</body>
</html>
